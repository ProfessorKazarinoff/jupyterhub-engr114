



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.6">
    
    
      
        <title>SSH Keys - ENGR114-JupyterHub-Deployment</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#ff7043">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../static/css/toc.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="deep-orange" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#create-ssh-keys" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="ENGR114-JupyterHub-Deployment" class="md-header-nav__button md-logo">
          
            <i class="md-icon">build</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                ENGR114-JupyterHub-Deployment
              </span>
              <span class="md-header-nav__topic">
                SSH Keys
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/ProfessorKazarinoff/jupyterhub-engr114/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="ENGR114-JupyterHub-Deployment" class="md-nav__button md-logo">
      
        <i class="md-icon">build</i>
      
    </a>
    ENGR114-JupyterHub-Deployment
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/ProfessorKazarinoff/jupyterhub-engr114/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../setup/" title="Set Up" class="md-nav__link">
      Set Up
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        SSH Keys
      </label>
    
    <a href="./" title="SSH Keys" class="md-nav__link md-nav__link--active">
      SSH Keys
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Page Contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-ssh-keys-puttygen-and-why-do-this-first" title="Why SSH keys, PuTTYgen and why do this first?" class="md-nav__link">
    Why SSH keys, PuTTYgen and why do this first?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#download-putty" title="Download PuTTY" class="md-nav__link">
    Download PuTTY
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#start-puttygen-and-create-ssh-key" title="Start PuTTYgen and create SSH key" class="md-nav__link">
    Start PuTTYgen and create SSH key
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#save-ssh-public-and-private-keys-to-documents-folder" title="Save SSH public and private keys to Documents folder" class="md-nav__link">
    Save SSH public and private keys to Documents folder
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#copy-the-public-key-to-clipboard" title="Copy the public key to clipboard" class="md-nav__link">
    Copy the public key to clipboard
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" title="Summary" class="md-nav__link">
    Summary
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" title="Next Steps" class="md-nav__link">
    Next Steps
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../doserver/" title="Server Setup" class="md-nav__link">
      Server Setup
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../install_jupyterhub/" title="Install JupyterHub" class="md-nav__link">
      Install JupyterHub
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../DNS/" title="DNS Routing" class="md-nav__link">
      DNS Routing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../ssl/" title="SSL Certificates" class="md-nav__link">
      SSL Certificates
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../cookie_secret_proxy_auth_token/" title="Cookie Secret and Proxy Auth Token" class="md-nav__link">
      Cookie Secret and Proxy Auth Token
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../nginx_install/" title="Install Nginx" class="md-nav__link">
      Install Nginx
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../nginx_config/" title="Nginx Configuration" class="md-nav__link">
      Nginx Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../jupyterhub_config/" title="JupyterHub Configuration" class="md-nav__link">
      JupyterHub Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../systemd/" title="System Service" class="md-nav__link">
      System Service
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../github_oauth/" title="GitHub OAuth" class="md-nav__link">
      GitHub OAuth
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../google_oauth/" title="Google OAuth" class="md-nav__link">
      Google OAuth
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../jupyterlab_default/" title="JupyterLab Default Interface" class="md-nav__link">
      JupyterLab Default Interface
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../login_page/" title="Custom Login Page" class="md-nav__link">
      Custom Login Page
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../github_assignments/" title="Assignments from GitHub" class="md-nav__link">
      Assignments from GitHub
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../useful_commands/" title="Usefull Commands" class="md-nav__link">
      Usefull Commands
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Page Contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-ssh-keys-puttygen-and-why-do-this-first" title="Why SSH keys, PuTTYgen and why do this first?" class="md-nav__link">
    Why SSH keys, PuTTYgen and why do this first?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#download-putty" title="Download PuTTY" class="md-nav__link">
    Download PuTTY
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#start-puttygen-and-create-ssh-key" title="Start PuTTYgen and create SSH key" class="md-nav__link">
    Start PuTTYgen and create SSH key
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#save-ssh-public-and-private-keys-to-documents-folder" title="Save SSH public and private keys to Documents folder" class="md-nav__link">
    Save SSH public and private keys to Documents folder
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#copy-the-public-key-to-clipboard" title="Copy the public key to clipboard" class="md-nav__link">
    Copy the public key to clipboard
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" title="Summary" class="md-nav__link">
    Summary
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" title="Next Steps" class="md-nav__link">
    Next Steps
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ProfessorKazarinoff/jupyterhub-engr114/edit/master/docs/ssh_keys.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="create-ssh-keys">Create SSH keys</h1>
<p>SSH keys allow us to log into the cloud server which will run JupyterHub. SSH keys come in pairs, a private key and a public key. The public key will be stored on the JupyterHub server and the private key will stay on our local machine. </p>
<div class="toc">
<ul>
<li><a href="#create-ssh-keys">Create SSH keys</a><ul>
<li><a href="#why-ssh-keys-puttygen-and-why-do-this-first">Why SSH keys, PuTTYgen and why do this first?</a></li>
<li><a href="#download-putty">Download PuTTY</a></li>
<li><a href="#start-puttygen-and-create-ssh-key">Start PuTTYgen and create SSH key</a></li>
<li><a href="#save-ssh-public-and-private-keys-to-documents-folder">Save SSH public and private keys to Documents folder</a></li>
<li><a href="#copy-the-public-key-to-clipboard">Copy the public key to clipboard</a></li>
<li><a href="#summary">Summary</a></li>
<li><a href="#next-steps">Next Steps</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="why-ssh-keys-puttygen-and-why-do-this-first">Why SSH keys, PuTTYgen and why do this first?</h2>
<p>When I set up the server the first time, one of the initial server setup steps was to add SSH keys (so the server has the SSH key when it initialized). </p>
<p>I tried to create and save the SSH keys to the Digital Ocean (the cloud server provider) dashboard so the SSH keys would be on the server when the server first started. But I goofed up somehow and the server started without any SSH keys. </p>
<p><strong>It was a BIG PAIN adding SSH keys after the server started for the first time.</strong> </p>
<p>I ended up copying the public SSH key into pastebin.com, logging onto the server with the Digital Ocean console and used <code>wget</code> to bring a textfile of the SSH key from pastebin.com onto the server and then <code>mv</code> to copy the key name into the right location.</p>
<p>I'm pretty sure that pasting a public SSH key into pastebin.com is not the best way to initially set up a server. So to make sure that doesn't happen again, we are going to generate the SSH keys first and set up the server second. </p>
<p>SSH keys are needed to use PuTTY (regular PuTTY not PuTTYgen) to log into the server. Since I'm working on Windows 10, using PuTTYgen (a program that comes with PuTTY that generates SSH keys) seems like the easiest solution. </p>
<h2 id="download-putty">Download PuTTY</h2>
<p>I already have PuTTY installed on my Windows 10 machines at home and at work. The download link is below:</p>
<p><a href="https://www.putty.org/">Download PuTTY</a></p>
<p>PuTTY seems to want you to install lots of extra stuff when you run the installer. I didn't install any of the "offers" that popped up during installation.</p>
<h2 id="start-puttygen-and-create-ssh-key">Start PuTTYgen and create SSH key</h2>
<p>I went through <a href="https://www.digitalocean.com/community/tutorials/how-to-use-ssh-keys-with-putty-on-digitalocean-droplets-windows-users">this tutorial</a> about how to set up SSH keys on Windows 10 for Digital Ocean when I created the first SSH key.</p>
<p>Using the Windows start menu, open PuTTYgen (not regular PuTTY):</p>
<p><img alt="PuTTYgen in Windows Start Menu" src="../images/puttygen_in_start_menu.png" /></p>
<p><img alt="Putty in Windows Start Menu" src="../images/puttygen_key_generator.png" /></p>
<p>Use the following parameters</p>
<ul>
<li>Type of key to generate: RSA</li>
<li>Number of bits in generated key: 2048</li>
</ul>
<p>Then click [generate]</p>
<p><img alt="PuTTYgen generate" src="../images/puttygen_generate.png" /></p>
<p>This brings up a dialog to move the mouse around the empty area to generate some randomness. This is my favorite part! Just move the mouse around the dialog box until the progress bar ends. Fun.</p>
<p><img alt="PuTTYgen key generator" src="../images/puttygen_key_generator.png" /></p>
<p>When the next screen pops up, right-click and copy the contents of the Public Key. We'll need the public key contents available to paste into the server's SSH <code>authorized_keys</code> file. Include the rsa line in the text copied to the clipboard.</p>
<h2 id="save-ssh-public-and-private-keys-to-documents-folder">Save SSH public and private keys to Documents folder</h2>
<p>In the [Actions] section click [Save public key] and click [Save private key]</p>
<p><img alt="PuTTYgen save public and private keys" src="../images/puttygen_save_public_private_key.png" /></p>
<p>Make sure to save both the public and the private keys. Save these keys to an accessible folder. The first time I generated SSH keys, I saved the keys in the default location and couldn't access them later. The second time I created SSH keys, I created a folder in the Documents folder called ssh-keys and saved the public and private keys in <code>Documents\ssh-keys</code>. I saved the public key with the name: <code>public_key_jupyter_hub.txt</code>. The Digital Ocean documentation recommends a <code>.txt</code> file extension for the public key (so you can open it and copy the contents). The private key should have a .ppk file extension.</p>
<p><img alt="PuTTYgen save public key name" src="../images/puttygen_public_key_save_name.png" /></p>
<h2 id="copy-the-public-key-to-clipboard">Copy the public key to clipboard</h2>
<p>Before closing PuTTYgen, make sure to copy the contents of the Public Key to the clipboard. We'll need the public key contents when we create the server. Copy all of the contents of the public SSH key including the rsa line. </p>
<h2 id="summary">Summary</h2>
<p>After completing these steps, we have a public and private SSH key pair saved in <code>Documents\ssh-keys</code>. We also have the contents of the public SSH key saved to the clipboard.</p>
<h2 id="next-steps">Next Steps</h2>
<p>Next, we'll create a new server on Digital Ocean (called a <em>droplet</em>). Then we'll use the SSH keys we just created to log into the server and create a non-root sudo user.</p>
<p><br></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../setup/" title="Set Up" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Set Up
              </span>
            </div>
          </a>
        
        
          <a href="../doserver/" title="Server Setup" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Server Setup
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 Peter D. Kazarinoff
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.5e60981f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>